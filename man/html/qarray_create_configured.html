<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>qarray_create(3) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
<b>qarray_create</b> - allocate a runtime distributed array 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>#include
&lt;qthread/qarray.h&gt;</b> 
<p> <i>qarray</i> * <br>
<b>qarray_create</b> (const size_t <i>count</i>, const size_t <i>unit_size</i>);<i></i> <p>
<i>qarray</i> * <br>
<b>qarray_create_tight</b> (const size_t <i>count</i>, const size_t <i>unit_size</i>);<i></i> <p>
<i>qarray</i>
* <br>
<b>qarray_create_configured</b> (const size_t <i>count</i>, const size_t <i>unit_size</i>,<i></i> 
const distribution_t <i>d</i>, const char <i>tight</i>,<i></i>  const int <i>seg_pages</i>);<i></i> 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
These
functions initialize qarray distributed array objects. All three functions
create an array containing at least <i>count</i> elements that are at least <i>unit_size</i>
bytes long each. The <b>qarray_create</b>() function may round the element size
up to the next-largest multiple of eight, but the <b>qarray_create_tight</b>()
is guaranteed not to do that, so that elements are packed tightly in the
array. The <b>qarray_create_configured</b>() function provides greater control
over the array implementation, allowing the distribution pattern (<i>d</i>),<i></i> and
the length of the distributed array segments (<i>seg_pages</i>)<i></i> to be specified.
The <i>seg_pages</i> argument specifies the number of memory pages in a single
segment; memory cannot be distributed in units smaller than a single page.
If <i>seg_pages</i> is zero, a default value is chosen. <p>
The possible values for
<i>d</i> are: 
<dl>

<dt><b>FIXED_HASH</b> </dt>
<dd>Distributes the memory across the available shepherds
evenly, using a basic round-robin assignment mechanism based on the address
of the initial page of each segment. Array segments cannot be relocated.
</dd>

<dt><b>FIXED_FIELDS</b> </dt>
<dd>Distributes the memory evenly across all shepherds, maintaining
long contiguous sets of segments on each shepherd. Segment locations are
defined by a simple math operation on the index, so array segments cannot
be relocated. </dd>

<dt><b>ALL_LOCAL</b> </dt>
<dd>Assigns the entire array to the local shepherd. Array
segments cannot be relocated. </dd>

<dt><b>ALL_RAND</b> </dt>
<dd>Assigns the entire array to a random
shepherd. Array segments cannot be relocated. </dd>

<dt><b>ALL_LEAST</b> </dt>
<dd>Assigns the entire
array to the shepherd with the least qarray segments currently assigned
to it. Array segments cannot be relocated. </dd>

<dt><b>DIST_STRIPES</b> </dt>
<dd>Assigns array segments
with a round-robin mechanism. Segment location is stored in the segment,
so segments can be relocated, but finding a segment requires extra memory
operations. </dd>

<dt><b>DIST_FIELDS</b> </dt>
<dd>Assigns array segments evenly across all shepherds,
attempting to maintain long contiguous sets of segments on each shepherd.
Segment location is stored in the segment, so segments can be relocated,
but finding a segment requires extra memory operations. </dd>

<dt><b>DIST_RAND</b> </dt>
<dd>Assigns
array segments randomly to shepherds. Segment location is stored in the
segment, so segments can be relocated, but finding a segment requires extra
memory operations. </dd>

<dt><b>DIST_LEAST</b> </dt>
<dd>Assigns each array segment to whichever shepherd
has the fewest array segments assigned to it at creation time. Segment location
is stored in the segment, so segments can be relocated, but finding a segment
requires extra memory operations. </dd>
</dl>

<h2><a name='sect3' href='#toc3'>See Also</a></h2>
<a href='qarray_destroy.html'><b>qarray_destroy</b>(3)</a>
, <a href='qarray_iter.html'><b>qarray_iter</b>(3)</a>
,
<a href='qarray_shepof.html'><b>qarray_shepof</b>(3)</a>
, <a href='qarray_elem.html'><b>qarray_elem</b>(3)</a>
  <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>See Also</a></li>
</ul>
</body>
</html>
